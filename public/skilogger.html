<!DOCTYPE html>
<html lang="en" class="ski-logger">
<head>
    <title>SkiLogging</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
    <script src="jquery.js"></script>
    <script src="hoursLogged.js"></script>
    <script src="search.js"></script>
    <script src="script.js"></script>
</head>

<body>
    <input type="hidden" id="totalHours" name="totalHours" value=0 readonly>
    <header>
        <a href="index.html" id="return-home">Return to Home <br> &#8592</a>
        <div class="search-container">
            <input type="search" placeholder="Search For Specific Resort or Location" id="search-bar" class="search-bar">
            <button id="search-button" class="search-button">Search</button>
        </div>
    </header>
        <div class="container" id="main">
            <div class="left">
                <div id="Account-info">
                    <h1>
                        (Username)
                    </h1>
                    <div id="HoursSpent-Text">
                        <p id="total-trips">Total Trips: </p>
                        <p id="total-hours">Total Hours: </p>
                        <p id="rank">Global Rank: </p>
                    </div>
                </div>
                <input type="number" id="Hours" name="Hours" placeholder="Log Hours:">
                <input type="text" id="Resort" name="Resort" placeholder="Enter Name of Resort:">
                <input type="date" id="Date" name="Date" placeholder="Enter Date:" />
                <button type="button" id="hourSubmit">submit</button>
            </div>

            <div class="right">
                <div>
                    <h2>
                        Previous Ski Trips:
                    </h2>
                    <ul id="SkiTripList"></ul>
                </div>
                <div>
                    <h2>
                        Leaderboard
                    </h2>
                    <ol id="SkiingLeaderboard">
                        <li>First Place</li>
                        <li>Second PLace</li>
                        <li>Third Place</li>
                        <li>Fourth Place</li>
                        <li>Fifth Place</li>
                    </ol>

                </div>
            </div>
        </div>

    <div id="search-results" hidden></div>
</body>

</html>

<script>
    let trips = 0; // take value from account data in database
    let totalHours = 0; // take value from account data in database
    document.getElementById('hourSubmit').addEventListener("click", function () {
        // Adds hours to total

        let newHours = parseFloat($("#Hours").val());
        totalHours += newHours;
        $("#totalHours").value = totalHours;
        $("#totalHours").innerText = ("Total Hours: " + totalHours);
        $("#Hours").value = 0;

        // Adds new Ski Trip to list which will be posted on right
        // hand side of the web page
        let resort = document.getElementById('Resort').value;
        let date = document.getElementById('Date').value;
        let listItem = document.createElement('li');
        listItem.textContent = ("Trip to " + resort + " on " + date + ", for " + newHours + " hours");
        document.getElementById('SkiTripList').append(listItem);
        // update user Info
        trips += 1;
        document.getElementById('total-trips').textContent = ("Total Trips: " + trips);
    });
</script>